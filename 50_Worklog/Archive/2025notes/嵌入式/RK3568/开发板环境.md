现在这个帖子，记录下自己第一次操作开发板`RK3568`的心路历程。网络部分已经放到了[[开发板网络连接问题]]进行单独记录。

# Buildroot

## 1️⃣ Buildroot 是什么

- **Buildroot** 是一个 **嵌入式 Linux 系统构建工具**。
- 它的任务是帮你**自动下载**、编译、打包：
  1. **交叉编译工具链**（arm-linux-gcc 等）
  2. **Bootloader**（u-boot）
  3. **Linux Kernel**
  4. **根文件系统**（rootfs，包含 busybox、库、应用程序）
  5. **最终镜像**（比如 SD 卡镜像、NAND 镜像）

它的目标是：

- 输入：配置文件（.config）
- 输出：一套可以直接启动到 Linux Shell 的系统镜像

> **一句话理解**：Buildroot 是一个“一键全家桶构建器”，帮你把引导程序、内核、文件系统全都编译好并打包成可烧录的镜像。

Buildroot 与 U-Boot、Kernel以及 RootFS 之间的关系为：

```css
          ┌─────────────┐
          │  Buildroot  │
          └──────┬──────┘
                 │
   ┌─────────────┼─────────────────┐
   │             │                 │
[U-Boot]     [Kernel]          [RootFS]
  (源码)       (源码)            (busybox, app, lib)
   │             │                 │
编译成bin   编译成zImage       制作成ext4/squashfs
   │             │                 │
   └─────打包成启动镜像─────────────┘

```

## 2️⃣如果不用 Buildroot 会怎样

你就得：

1. 自己去下载 u-boot 源码，交叉编译
2. 自己去下载 Linux 内核源码，交叉编译
3. 自己去编译 busybox、glibc 等库
4. 手动打包成文件系统
5. 自己写脚本把它们拼成一个启动镜像

> Buildroot 就是帮你自动化完成这些步骤。

怪不得之前打包 Buildroot 这么慢，估计是在下载包上花了很多时间。

## 3️⃣RK3568使用方法

进入`buildroot`目录，执行命令

```bash
make ARCH=arm64 menuconfig
```

然后就可以根据需要配置相应的工具了。但是`RK3568`开发套件使用的 buildroot 配置项，是在目录：

```bash
buildroot/configs/rockchip_rk3568_defconfig
```

所以如果想添加什么配置，需要先修改这个配置。

最后配置完毕后，回到根目录执行

```bash
./build.sh
```

进行完全编译。
