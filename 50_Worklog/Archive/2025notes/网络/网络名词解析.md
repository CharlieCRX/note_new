## RGMII 和 MDIO 的区别

### 1.RGMII（Reduced Gigabit Media Independent Interface）

- 用途：是 MAC（以太网控制器） 和  PHY （物理层芯片）之间的数据接口。用来传输 **以太网帧的数据位流**（即用户的数据包内容）。
- 特性：RGMII 是 GMII 的精简版（信号线减少一半），常用于千兆以太网。
  - 使用 **12 条信号线**（比 GMII 的 24 条少一半）：
    - TXD[3:0] + TX_CTL + TXC
    - RXD[3:0] + RX_CTL + RXC
- 总结：
  - RGMII 是 **高速数据信号接口**。
  - MAC 通过 RGMII 发送/接收以太网帧给 PHY，再由 PHY 做电气信号（RJ45、光口）转换。

### 2.MDIO（Management Data Input/Output）

- **用途**：

  - 是 **MAC（或 SoC）配置和管理 PHY 的控制总线**。
  - 用来读写 PHY 的 **寄存器**（比如复位、速率、双工、自协商、链路状态）。

- **特性**：

  - 由 IEEE 802.3 Clause 22/45 定义。

  - 两根线：

    - MDC（管理时钟）

    - MDIO（数据线，双向）

  - 低速串行接口（通常几 MHz），和 RGMII 的高速并行数据线不是一个量级。

  - 每个 PHY 有一个 **地址（0~31）**，通过它在 MDIO 总线上区分。
- **总结**：
  - MDIO 是 **低速控制通道**，不传输数据包，只用来读写 PHY 寄存器。
  - 相当于“管理通道”。

### 3.MAC–PHY 关系图

```yaml
          ┌────────────┐
          │   CPU/SoC  │
          │   (MAC)    │
          └─────┬──────┘
                │
      ┌─────────┴──────────┐
      │                    │
  RGMII: 数据接口      MDIO: 控制接口
  (发送/接收帧数据)   (配置PHY寄存器)
      │                    │
      ▼                    ▼
 ┌────────────┐      ┌────────────┐
 │    PHY     │<────>│   MDIO bus │
 └─────┬──────┘      └────────────┘
       │
   电信号 (RJ45/光口)
```

### 4.一句话对比

- **RGMII**：高速接口 → 负责数据帧传输（payload）。

- **MDIO**：低速管理总线 → 负责 PHY 配置和状态查询。