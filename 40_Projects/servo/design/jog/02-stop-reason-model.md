# StopReason 模型：从流程判断到领域事件



## 认知转折点：我意识到“停止不是流程的一部分”

在完成 X1X2 组合限位逻辑后，我逐渐意识到一个问题：

> 在 `checkJog` 中，“停止点动”并不是某个 `if` 的副作用
>
> **而是一个独立的、具有业务含义的事件**

在当前实现里，停止行为总是以如下形式出现：

```C++
if (condition) {
    m_allDone = true;
    actionJogStop();
    SMessageBox::sQdialogBoxOk(...);
    break;
}
```

初看这是一段完整的流程，

但是当停止条件`condition`不断增加时，问题开始显现：

- 同一个“停止动作”，被重复写在多个地方
- 不同停止条件，它们只是 `condition` 不同
- 代码结构无法表达“这些停止在业务上是同一类行为”

这让我意识到：

> 停止并不是“通过一个个判断走到这里”的结果，
>
> 而是“系统状态发生变化的事实。

